(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/logo.896b6e24.png"},16:function(e,t,n){e.exports=n(28)},22:function(e,t,n){},23:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(12),o=n.n(r),i=(n(22),n(13)),u=n(3),l=n(7),c=n(9),m=n(8),g=n(10),p=n(4),f=function e(t,n,s){var a=this;Object(u.a)(this,e),this.getId=function(){return a.id},this.setConflicts=function(){a.conflicts=!0},this.getConflicts=function(){return a.conflicts},this.getAnswer=function(e){return 1===a.answers[e]},this.getText=function(){return a.text},this.id=t,this.text=n,this.conflicts=!1,this.answers=s},d=function e(t,n,s){var a=this;Object(u.a)(this,e),this.getId=function(){return a.id},this.setAsked=function(){a.asked=!0},this.getAsked=function(){return a.asked},this.getText=function(){return a.text},this.getDescription=function(){return a.shortdesc},this.id=t,this.text=n,this.asked=!1,this.shortdesc=s},h=function e(t,n,s,a){var r=this;Object(u.a)(this,e),this.getId=function(){return r.id},this.getIssueId=function(){return r.issue_id},this.getDescription=function(){return r.shortdesc},this.getText=function(){return r.text},this.id=t,this.issue_id=n,this.shortdesc=s,this.text=a},v=function e(){var t=this;Object(u.a)(this,e),this.getQuestionText=function(){return t.currentQuestion.getText()},this.getQuestionDescription=function(){return t.currentQuestion.getDescription()},this.hasMoreQuestions=function(){return t.moreQuestions},this.hasIssueSuggestion=function(){return t.issueSuggestion},this.nextQuestion=function(){var e=0,n=-1,s=!1;for(var a in t.questions)if(!t.questions[a].getAsked()){var r=0;for(var o in t.issues){var i=t.issues[o];!i.getConflicts()&&i.getAnswer(a)&&r++}var u=r/t.issues.length,l=-u*Math.log(u+1e-11)+(1-u)*Math.log(1-u+1e-11);l>e&&0!==r&&(e=l,n=a,s=!0)}if(s)t.currentQuestion=t.questions[n],t.questions[n].setAsked();else for(var c in t.moreQuestions=!1,t.issues)t.issues[c].getConflicts()||(t.issueSuggestion=!0)},this.getIssueSuggestion=function(){var e={};for(var n in t.issues){var s=t.issues[n];s.getConflicts()||(e[n]=s.getText())}return e},this.setSuggestionAnswer=function(e){if(-1!==e)for(var n in t.foundIssue=t.issues[e],t.solutions)if(t.solutions[n].getIssueId()===t.foundIssue.getId()){console.log("Found solution! "+n),t.foundSolution=!0;break}t.issueSuggestion=!1},this.setQuestionAnswer=function(e){for(var n in t.issues){var s=t.issues[n];s.getAnswer(t.currentQuestion.getId())!==e&&s.setConflicts()}},this.getResult=function(){return null!==t.foundIssue?t.foundIssue.getText():null},this.hasSolution=function(){return t.foundSolution},this.getSolutions=function(){var e={};for(var n in t.solutions)t.solutions[n].getIssueId()===t.foundIssue.getId()&&(e[n]=[t.solutions[n].getDescription(),t.solutions[n].getText()],t.foundSolution=!0);return console.log("solutions: "+e),e},this.setSolutionAnswer=function(e){t.foundSolution=!1},this.questions=[new d(0,"\xc4r problemet inomhus?","Inomhus"),new d(1,"\xc4r problemet i l\xe4genheten?","I l\xe4genheten"),new d(2,"\xc4r problemet i badrummet?","I badrummet"),new d(3,"\xc4r problemet i k\xf6ket?","I k\xf6ket"),new d(4,"\xc4r problemet i tv\xe4ttstugan?","I tv\xe4ttstugan"),new d(5,"Har du problem med en vitvara?","En vitvara"),new d(6,"Har du problem med el?","Elen"),new d(7,"Har du problem med vatten?","Vattnen")],this.issues=[new f(0,"Badkar",[1,1,1,0,0,0,0,0]),new f(1,"Spisen",[1,1,0,1,0,1,0,0]),new f(2,"Tv\xe4ttmaskin",[1,1,1,0,0,1,0,0]),new f(3,"Nerskr\xe4pning",[0,0,0,0,0,0,0,0]),new f(4,"Delad tv\xe4ttmaskin",[1,0,0,0,1,1,0,0]),new f(5,"Delad torktumlare",[1,0,0,0,1,1,0,0]),new f(6,"Torktumlare",[1,1,1,0,0,1,0,0]),new f(7,"Spisfl\xe4kt",[1,1,0,1,0,1,0,0])],this.solutions=[new h(0,7,"Problem med fl\xe4ktfiltret?","Som hyresg\xe4st ansvarar du sj\xe4lv f\xf6r filtret i fl\xe4kten."),new h(1,7,"K\xf6pa nytt fl\xe4ktfiltret?","Som hyresg\xe4st ansvarar du sj\xe4lv f\xf6r att k\xf6pa nytt filtret till                fl\xe4kten. Detta kan du g\xf6ra billigast p\xe5 F\xd6RETAG X.")],this.moreQuestions=!0,this.issueSuggestion=!1,this.foundIssue=null,this.foundSolution=!1,this.currentQuestion=this.questions[0],this.questions[0].setAsked()},b=(n(23),n(14)),w=n.n(b),E=n(15),S=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).resetReport=function(){n.setState({report:new v}),n.setState({qcount:0}),n.setState({textarea_value:""}),n.setState({textname_value:""}),n.setState({textemail_value:""}),n.setState({positive_answers:[]})},n.handleClick=function(e){n.setState({currentChoice:e})},n.getTextbox=function(){return a.a.createElement("div",{className:"FaultReportText"},a.a.createElement("div",{className:"FaultReportHeader"},"Beskriv problemet:"),a.a.createElement("textarea",{rows:"20",cols:"50"}),a.a.createElement("br",null),a.a.createElement("button",{className:"FaultReportButton"},"Skicka"))},n.getNextQuestion=function(){var e=n.state.report.getQuestion();null!=e?n.setState({currentQuestion:e}):n.setState({moreQuestions:!1})},n.answerReport=function(e){e&&n.state.positive_answers.push(n.state.report.getQuestionDescription()),console.log(n.state.positive_answers),n.state.report.setQuestionAnswer(e),n.state.report.nextQuestion(),n.setState({qcount:n.state.qcount+1})},n.answerSuggestion=function(e){n.state.report.setSuggestionAnswer(e),n.setState({qcount:n.state.qcount+1})},n.answerSolution=function(e){-1==e?(n.state.report.setSolutionAnswer(e),n.setState({qcount:n.state.qcount+1})):n.resetReport()},n.getResult=function(){return null!=n.state.report.getResult()?a.a.createElement("span",null,"Valt problem: ",n.state.report.getResult()):a.a.createElement("span",null,"Vi hittade inte ditt problem.")},n.handleChange=function(e){n.setState(Object(i.a)({},e.target.name,e.target.value))},n.sendReport=function(e){e.preventDefault();var t={from_name:"Nejbor",to_name:n.state.textname_value,report_id:Math.floor(1e3*Math.random())+100,message_html:n.state.textarea_value,to_email:n.state.textemail_value,problem:"",answers:""};for(var s in null!==n.state.report.getResult()&&(t.problem=n.state.report.getResult()),t.answers+="<ul>",n.state.positive_answers)t.answers+="<li>"+n.state.positive_answers[s]+"</li>";t.answers+="</ul>",E.send("gmail","template_7tYScFrN",t,"user_z3koOKn5N8lxWwWIlvVob").then(function(e){console.log("Success!",e.status,e.text)},function(e){console.log(e)})},n.getQuestions=function(){if(n.state.report.hasMoreQuestions())return a.a.createElement("div",{className:"FaultReportQuestions"},a.a.createElement("div",{className:"FaultReportQuestionsQuestion"},n.state.report.getQuestionText()),a.a.createElement("div",{className:"FaultReportQuestionsChoices"},a.a.createElement("div",{className:"FaultReportQuestionsItem",onClick:function(){return n.answerReport(!0)}},a.a.createElement("div",{className:"FaultReportQuestionsItemText"},"Ja")),a.a.createElement("div",{className:"FaultReportQuestionsItem",onClick:function(){return n.answerReport(!1)}},a.a.createElement("div",{className:"FaultReportQuestionsItemText"},"Nej"))));if(n.state.report.hasIssueSuggestion()){var e=n.state.report.getIssueSuggestion(),t=Object.keys(e).map(function(t,n){var s=this;return a.a.createElement("div",{className:"FaultReportSuggestionItem",key:t,onClick:function(){return s.answerSuggestion(t)}},e[t])},Object(p.a)(Object(p.a)(n)));return a.a.createElement("div",{className:"FaultReportSuggestion"},"Har du problem med n\xe5got av f\xf6ljande?",a.a.createElement("div",{className:"FaultReportSuggestionChoices"},t,a.a.createElement("div",{className:"FaultReportSuggestionItem NegChoice",onClick:function(){return n.answerSuggestion(-1)}},"Nej")))}if(n.state.report.hasSolution()){var s=n.state.report.getSolutions();console.log("sols: "+s);var r=Object.keys(s).map(function(e,t){return console.log(e+" : "+t),a.a.createElement("div",{className:"FaultReportSolutionItem",key:e,onClick:function(){},tabIndex:"1"},a.a.createElement("div",{className:"FaultReportSolutionItemHeader"},s[e][0]),a.a.createElement("div",{className:"FaultReportSolutionItemText"},s[e][1]))},Object(p.a)(Object(p.a)(n)));return a.a.createElement("div",{className:"FaultReportSolutions"},"Hej Valter h\xe4r!",a.a.createElement("br",null),"H\xe4r \xe4r n\xe5gra vanliga l\xf6sningar vid ditt problem:",a.a.createElement("div",{className:"FaultReportSolutionChoices"},r,a.a.createElement("br",null),"Hj\xe4lpte detta med ditt problem?",a.a.createElement("div",{className:"FaultReportSolutionItem PosChoice",onClick:function(){return n.answerSolution(1)}},"Ja"),a.a.createElement("div",{className:"FaultReportSolutionItem NegChoice",onClick:function(){return n.answerSolution(-1)}},"Nej")))}return a.a.createElement("div",{className:"FaultReportResult"},a.a.createElement("div",{className:"FaultReportResultQuestion"},n.getResult()),a.a.createElement("div",{className:"FaultReportResultInput"},a.a.createElement("br",null),"Namn:",a.a.createElement("br",null),a.a.createElement("input",{type:"text",name:"textname_value",onChange:function(e){return n.handleChange(e)}}),a.a.createElement("br",null),"Email:",a.a.createElement("br",null),a.a.createElement("input",{type:"email",name:"textemail_value",onChange:function(e){return n.handleChange(e)}}),a.a.createElement("br",null),"L\xe4gg till bild:",a.a.createElement("br",null),a.a.createElement("input",{type:"file",accept:"image/*",capture:!0}),a.a.createElement("br",null),a.a.createElement("br",null),"Beskriv problemet:",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("textarea",{rows:"10",cols:"40",name:"textarea_value",onChange:function(e){return n.handleChange(e)}}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("button",{type:"button",onClick:function(e){return n.sendReport(e)}},"Skicka Felanm\xe4lan")))},n.state={report:new v,qcount:0,textarea_value:"",textname_value:"",textemail_value:"",positive_answers:[]},n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"FaultReport"},a.a.createElement("img",{src:w.a,alt:""}),a.a.createElement("h1",{className:"FaultReportTitle"},"Felanm\xe4lan"),this.getQuestions())}}]),t}(s.Component),k=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"Screen"},a.a.createElement(S,null)))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=n(30);o.a.render(a.a.createElement(x.a,null,a.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.d40d5065.chunk.js.map