{"version":3,"sources":["img/logo.png","Report.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Issue","id","text","answers","_this","this","Object","classCallCheck","getId","setConflicts","conflicts","getConflicts","getAnswer","questionId","getText","Question","shortdesc","_this2","setAsked","asked","getAsked","getDescription","Solution","issue_id","_this3","getIssueId","Report","_this4","getQuestionText","currentQuestion","getQuestionDescription","hasMoreQuestions","moreQuestions","hasIssueSuggestion","issueSuggestion","nextQuestion","best_score","best_question_id","questionFound","q","questions","counter","i","issues","issue","posprob","length","score","Math","log","getIssueSuggestion","suggestions","setSuggestionAnswer","s","foundIssue","solutions","console","foundSolution","setQuestionAnswer","answer","getResult","hasSolution","getSolutions","sols","setSolutionAnswer","FaultReport","props","possibleConstructorReturn","getPrototypeOf","call","resetReport","setState","report","qcount","textarea_value","textname_value","textemail_value","positive_answers","handleClick","idx","currentChoice","getTextbox","react_default","a","createElement","className","rows","cols","getNextQuestion","state","getQuestion","answerReport","push","answerSuggestion","answerSolution","handleChange","e","defineProperty","target","name","value","sendReport","preventDefault","templateParams","from_name","to_name","report_id","floor","random","message_html","to_email","problem","emailjs","then","response","status","err","getQuestions","onClick","res","keys","map","key","index","assertThisInitialized","tabIndex","type","onChange","accept","capture","src","Logotype","alt","Component","App","App_FaultReport","Boolean","window","location","hostname","match","ReactDOM","render","HashRouter","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d40d5065.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.896b6e24.png\";","/**\n *  An actual issue.\n *  Conflicts is true if the issue conflicts to an answer of\n *  at least on question.\n *  answers is a list of true/false for each question.\n */\nclass Issue {\n    constructor(id, text, answers) {\n        this.id = id;\n        this.text = text;\n        this.conflicts = false;\n        this.answers = answers;\n    }\n\n    getId = () => {\n        return this.id;\n    }\n\n    setConflicts = () => {\n        this.conflicts = true;\n    }\n\n    getConflicts = () => {\n        return this.conflicts;\n    }\n\n    getAnswer = (questionId) => {\n        return this.answers[questionId] === 1 ? true : false;\n    }\n\n    getText = () => {\n        return this.text;\n    }\n}\n\n/** \n *  A question.\n *  id: an id\n *  text: the actual question\n *  shortdesc: an short description\n */\nclass Question {\n    constructor(id, text, shortdesc) {\n        this.id = id;\n        this.text = text;\n        this.asked = false;\n        this.shortdesc = shortdesc;\n    }\n\n    getId = () => {\n        return this.id;\n    }\n\n    setAsked = () => {\n        this.asked = true;\n    }\n\n    getAsked = () => {\n        return this.asked;\n    }\n\n    getText = () => {\n        return this.text;\n    }\n\n    getDescription = () => {\n        return this.shortdesc;\n    }\n}\n\n/** \n *  A solution to the issue with issue_id.\n *  id: an id\n *  text: the actual question\n *  shortdesc: an short description\n */\nclass Solution {\n    constructor(id, issue_id, shortdesc, text) {\n        this.id = id;\n        this.issue_id = issue_id;\n        this.shortdesc = shortdesc;\n        this.text = text;\n    }\n\n    getId = () => {\n        return this.id;\n    }\n\n    getIssueId = () => {\n        return this.issue_id;\n    }\n\n    getDescription = () => {\n        return this.shortdesc;\n    }\n\n    getText = () => {\n        return this.text;\n    }\n}\n\n/**\n *  The fault report AI, aka För Valter.\n *  Handles which question should be asked\n *  and find the issue.\n *\n *  Questions and issues should be fetched from backend?\n */\nclass Report {\n    constructor() {\n        this.questions = [\n            new Question(0, \"Är problemet inomhus?\", \"Inomhus\"),\n            new Question(1, \"Är problemet i lägenheten?\", \"I lägenheten\"),\n            new Question(2, \"Är problemet i badrummet?\", \"I badrummet\"),\n            new Question(3, \"Är problemet i köket?\", \"I köket\"),\n            new Question(4, \"Är problemet i tvättstugan?\", \"I tvättstugan\"),\n            new Question(5, \"Har du problem med en vitvara?\", \"En vitvara\"),\n            new Question(6, \"Har du problem med el?\", \"Elen\"),\n            new Question(7, \"Har du problem med vatten?\", \"Vattnen\"),\n        ];\n\n        this.issues = [\n            new Issue(0, \"Badkar\",              [1, 1, 1, 0, 0, 0, 0, 0]),\n            new Issue(1, \"Spisen\",              [1, 1, 0, 1, 0, 1, 0, 0]),\n            new Issue(2, \"Tvättmaskin\",         [1, 1, 1, 0, 0, 1, 0, 0]),\n            new Issue(3, \"Nerskräpning\",        [0, 0, 0, 0, 0, 0, 0, 0]),\n            new Issue(4, \"Delad tvättmaskin\",   [1, 0, 0, 0, 1, 1, 0, 0]),\n            new Issue(5, \"Delad torktumlare\",   [1, 0, 0, 0, 1, 1, 0, 0]),\n            new Issue(6, \"Torktumlare\",         [1, 1, 1, 0, 0, 1, 0, 0]),\n            new Issue(7, \"Spisfläkt\",           [1, 1, 0, 1, 0, 1, 0, 0]),\n        ];\n\n        // List of solutions connected to issues?\n        this.solutions = [\n            new Solution(0, 7, \"Problem med fläktfiltret?\", \n                \"Som hyresgäst ansvarar du själv för filtret i fläkten.\"),\n            new Solution(1, 7, \"Köpa nytt fläktfiltret?\", \n                \"Som hyresgäst ansvarar du själv för att köpa nytt filtret till\\\n                fläkten. Detta kan du göra billigast på FÖRETAG X.\"),\n        ];\n\n        this.moreQuestions = true;\n        this.issueSuggestion = false;\n        this.foundIssue = null;\n        this.foundSolution = false;\n        this.currentQuestion = this.questions[0];\n        this.questions[0].setAsked();\n    }\n        \n    /**\n     *  Get the text for current question.\n     */\n    getQuestionText = () => {\n        return this.currentQuestion.getText();\n    }\n\n    /**\n     *  Get the description for current question.\n     */\n    getQuestionDescription = () => {\n        return this.currentQuestion.getDescription();\n    }\n\n    /**\n     *  Returns if there are more questions that\n     *  can be asked.\n     */\n    hasMoreQuestions = () => {\n        return this.moreQuestions;\n    }\n\n    hasIssueSuggestion = () => {\n        return this.issueSuggestion;\n    }\n\n    /**\n     *  Find the next question to ask.\n     *  Base on:\n     *  - The question is not already asked.\n     *  - There are issue that depend on the question.\n     */\n    nextQuestion = () => {\n\n        // look for a unasked question\n        let best_score = 0;\n        let best_question_id = -1;\n        let questionFound = false;\n        const eps = 0.00000000001;\n        for(let q in this.questions) {\n            let question = this.questions[q];\n            if(!question.getAsked()) {\n\n                // Make sure the question is the most relevant one\n                let counter = 0;\n                for(let i in this.issues) {\n                    let issue = this.issues[i];\n                    if(!issue.getConflicts() && issue.getAnswer(q)) {\n                        counter++;\n                    }\n                }\n                const posprob = counter/this.issues.length;\n                const score = \n                    -(posprob)*Math.log(posprob+eps) \n                    +(1-posprob)*Math.log(1-posprob+eps);\n                if (score > best_score && counter !== 0) {\n                    best_score = score;\n                    best_question_id = q;\n                    questionFound = true;\n                }\n            }\n        }\n\n        if(questionFound) {\n            this.currentQuestion = this.questions[best_question_id];\n            this.questions[best_question_id].setAsked();\n        } else {\n            this.moreQuestions = false;\n            for (let i in this.issues) {\n                if(!this.issues[i].getConflicts()) {\n                    this.issueSuggestion = true;\n                }\n            }\n        }\n    }\n\n    /** \n     *  Returns an object of all issues left.\n     *  IMPROVEMENT: Only return the 5 most likely.\n     */\n    getIssueSuggestion = () => {\n        let suggestions = {};\n        for (let i in this.issues) {\n            let issue = this.issues[i];\n            if(!issue.getConflicts()) {\n                suggestions[i] = issue.getText();\n            }\n        }\n        return suggestions;\n    }\n\n    /**\n     *  Get the answer from the suggested issues.\n     */\n    setSuggestionAnswer = (id) => {\n        if(id !== -1) {\n            this.foundIssue = this.issues[id];\n            // Check for solution\n            for (let s in this.solutions) {\n                if(this.solutions[s].getIssueId() === this.foundIssue.getId()) {\n                    console.log(\"Found solution! \" + s);\n                    this.foundSolution = true;\n                    break;\n                }\n            }\n        }\n        this.issueSuggestion = false;   \n    }\n\n    /**\n     *  Mark issues that conflicts to the answer\n     *  of the current question.\n     */\n    setQuestionAnswer = (answer) => {\n        for(let i in this.issues) {\n            let issue = this.issues[i];\n            if(issue.getAnswer(this.currentQuestion.getId()) !== answer) {\n                issue.setConflicts();\n            }\n        }\n    }\n\n    /**\n     *  Returns the chosen issue.\n     */\n    getResult = () => {\n        if(this.foundIssue !== null) {\n            return this.foundIssue.getText();\n        }\n        return null;\n    }\n\n    /**\n     *  Return true if there exists a possible solution \n     *  to the selected issue.\n     */\n    hasSolution = () => {\n        return this.foundSolution;\n    }\n\n    /**\n     *  returns a solution for this.foundissue\n     */\n    getSolutions = () => {\n        // Returns a solution for this.foundIssue\n        let sols = {}\n        for (let s in this.solutions) {\n            if(this.solutions[s].getIssueId() === this.foundIssue.getId()) {\n                sols[s] = [\n                    this.solutions[s].getDescription(), \n                    this.solutions[s].getText(), \n                ];\n                this.foundSolution = true;\n            }\n        }\n        console.log(\"solutions: \" + sols);\n        return sols;\n    }\n\n    /**\n     *  Set the answer for the suggested solution.\n     *  answer: boolean\n     */\n    setSolutionAnswer = (answer) => {\n        if(answer) {\n            // We are done!\n        } else {\n            // Let user report issue.\n        }\n        this.foundSolution = false;\n    }\n}\n\nexport default Report;\n","import React, { Component } from 'react';\nimport Report from './Report';\nimport './App.scss';\nimport Logotype from './img/logo.png';\nimport * as emailjs from 'emailjs-com';\n\nclass FaultReport extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            report: new Report(),\n            qcount: 0, // Just to update the component\n            textarea_value: '',\n            textname_value: '',\n            textemail_value: '',\n            positive_answers: [],\n        };\n\n    }\n\n    resetReport =() => {\n        this.setState({report: new Report()});\n        this.setState({qcount: 0});\n        this.setState({textarea_value: ''});\n        this.setState({textname_value: ''});\n        this.setState({textemail_value: ''});\n        this.setState({positive_answers: []});\n    }\n\n    handleClick = (idx) => {\n        this.setState({currentChoice: idx});\n    }\n\n    getTextbox = () => {\n        return (\n            <div className=\"FaultReportText\">\n            <div className=\"FaultReportHeader\">Beskriv problemet:</div>\n            <textarea rows=\"20\" cols=\"50\" />\n            <br/>\n            <button className=\"FaultReportButton\">Skicka</button>\n            </div>\n        );\n    }\n\n    getNextQuestion = () => {\n        let q = this.state['report'].getQuestion();\n        if(q != null) {\n            this.setState({currentQuestion: q});\n        } else {\n            this.setState({moreQuestions: false});\n        }\n    }\n\n    answerReport = (answer) => {\n        if(answer) {\n            this.state['positive_answers'].push(\n                this.state['report'].getQuestionDescription());\n        }\n        console.log(this.state['positive_answers']);\n        this.state['report'].setQuestionAnswer(answer);\n        this.state['report'].nextQuestion();\n        this.setState({'qcount': this.state['qcount'] + 1}); // update component\n    }\n\n    answerSuggestion = (id) => {\n        this.state['report'].setSuggestionAnswer(id); \n        this.setState({'qcount': this.state['qcount'] + 1});\n    }\n\n    answerSolution = (id) => {\n        if (id == -1) {\n            this.state['report'].setSolutionAnswer(id); \n            this.setState({'qcount': this.state['qcount'] + 1});\n        } else {\n            this.resetReport();\n        }\n    }\n\n    getResult = () => {\n        if(this.state['report'].getResult() != null) {\n            return (<span>Valt problem: {this.state['report'].getResult()}</span>);\n        } else {\n            return (<span>Vi hittade inte ditt problem.</span>);\n        }\n    }\n\n    handleChange = (e) => {\n        this.setState({[e.target.name]: e.target.value});\n    }\n\n    sendReport = (e) => {\n        e.preventDefault();\n        let templateParams = {\n            from_name: \"Nejbor\",\n            to_name: this.state['textname_value'],\n            report_id: Math.floor(Math.random() * 1000) + 100,\n            message_html: this.state['textarea_value'],\n            to_email: this.state['textemail_value'],\n            problem: '',\n            answers: '',\n        };\n\n        if (this.state['report'].getResult() !== null) {\n            templateParams['problem'] = this.state['report'].getResult();\n        }\n\n        templateParams['answers'] += \"<ul>\";\n        for (let i in this.state['positive_answers']) {\n            templateParams['answers'] += \n                \"<li>\" + this.state['positive_answers'][i] + \"</li>\";\n        }\n        templateParams['answers'] += \"</ul>\";\n\n        emailjs.send(\n            'gmail', \n            'template_7tYScFrN', \n            templateParams, \n            'user_z3koOKn5N8lxWwWIlvVob')\n            .then(function (response) {\n                console.log(\"Success!\", response.status, response.text);\n            }, function(err) {\n                console.log(err);\n            }\n        );\n\n    }\n\n    getQuestions = () => {\n        if(this.state['report'].hasMoreQuestions()) {\n            return (\n                <div className=\"FaultReportQuestions\">\n                <div className=\"FaultReportQuestionsQuestion\">\n                {this.state['report'].getQuestionText()}\n                </div>\n                <div className=\"FaultReportQuestionsChoices\">\n                <div className=\"FaultReportQuestionsItem\"\n                onClick={()=>this.answerReport(true)}>\n                <div className=\"FaultReportQuestionsItemText\">\n                Ja\n                </div>\n                </div>\n                <div className=\"FaultReportQuestionsItem\"\n                onClick={()=>this.answerReport(false)}>\n                <div className=\"FaultReportQuestionsItemText\">\n                Nej\n                </div>\n                </div>\n                </div>\n                </div>\n            );\n        } else if (this.state['report'].hasIssueSuggestion()) {\n            const issues = this.state['report'].getIssueSuggestion();\n            const res = Object.keys(issues).map( \n                function(key, index) {\n                return (<div className=\"FaultReportSuggestionItem\"\n                    key={key}\n                    onClick={()=>this.answerSuggestion(key)}>\n                    {issues[key]}\n                    </div>);\n            }, this);\n            return(\n                <div className=\"FaultReportSuggestion\">\n                    Har du problem med något av följande?\n                    <div className=\"FaultReportSuggestionChoices\">\n                        {res}\n                        <div className=\"FaultReportSuggestionItem NegChoice\"\n                            onClick={()=>this.answerSuggestion(-1)}>\n                            Nej\n                        </div>\n                    </div>\n                </div>\n            );\n        } else if(this.state['report'].hasSolution()) {\n            const solutions = this.state['report'].getSolutions();\n            console.log(\"sols: \" + solutions);\n            const res = Object.keys(solutions).map( \n                function(key, index) {\n                console.log(key + \" : \" + index);\n                return (<div className=\"FaultReportSolutionItem\"\n                    key={key}\n                    onClick={()=>{}}\n                    tabIndex=\"1\">\n                    <div className=\"FaultReportSolutionItemHeader\">\n                        {solutions[key][0]}\n                    </div>\n                    <div className=\"FaultReportSolutionItemText\">\n                        {solutions[key][1]}\n                    </div>\n                    </div>);\n            }, this);\n            return(\n                <div className=\"FaultReportSolutions\">\n                    Hej Valter här! \n                    <br/>\n                    Här är några vanliga lösningar vid ditt\n                    problem:\n                    <div className=\"FaultReportSolutionChoices\">\n                        {res}\n                        <br/>\n                        Hjälpte detta med ditt problem?\n                        <div className=\"FaultReportSolutionItem PosChoice\"\n                            onClick={()=>this.answerSolution(1)}>\n                            Ja\n                        </div>\n                        <div className=\"FaultReportSolutionItem NegChoice\"\n                            onClick={()=>this.answerSolution(-1)}>\n                            Nej\n                        </div>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"FaultReportResult\">\n                <div className=\"FaultReportResultQuestion\">\n                {this.getResult()}\n                </div>\n                <div className=\"FaultReportResultInput\">\n                <br/>\n                Namn:\n                <br/>\n                <input \n                    type=\"text\"\n                    name=\"textname_value\"\n                    onChange={(e)=>this.handleChange(e)}/>\n                <br/>\n                Email:\n                <br/>\n                <input \n                    type=\"email\"\n                    name=\"textemail_value\"\n                    onChange={(e)=>this.handleChange(e)}/>\n                <br/>\n                Lägg till bild: \n                <br/>\n                <input type=\"file\" accept=\"image/*\" capture/>\n                <br/>\n                <br/>\n                Beskriv problemet:\n                <br/>\n                <br/>\n                <textarea \n                    rows=\"10\" cols=\"40\"\n                    name=\"textarea_value\"\n                    onChange={(e)=>this.handleChange(e)}/>\n                <br/>\n                <br/>\n                <button type=\"button\"\n                onClick={(e)=>this.sendReport(e)}>\n                Skicka Felanmälan</button\n                >\n                </div>\n                </div>\n            );\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"FaultReport\">\n            <img src={Logotype} alt=\"\"/>\n            <h1 className=\"FaultReportTitle\">Felanmälan</h1>\n            {this.getQuestions()}\n            </div>\n        );\n    }\n}\n\nclass App extends Component {\n    render() {\n        return (\n            <div className=\"App\">\n            <div className=\"Screen\">\n            <FaultReport />\n            </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n    <Router>\n        <App />\n    </Router>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}